let System,fs;_695‍.w("./models/System.js",[["default",["System"],function(v){System=v}]]);_695‍.w("fs",[["default",["fs"],function(v){fs=v}]]);


function process_workflows(workflows, worker_count) {
    // preprocess inputs
    if (typeof workflows === "string") {
        workflows = JSON.parse(workflows);
    }
    if (typeof worker_count === "string") {
        worker_count = Number.parseInt(worker_count);
    }

    // execution
    const system = new System(workflows, worker_count);
    system.start();
    const result = system.getOuptut();
    const outputStr = JSON.stringify(result, null, 2);
    const stats = system.getStats();

    // prints results
    console.log("Result:");
    _695‍.g.console.log(outputStr);
    console.log("Statistics:");
    _695‍.g.console.log(JSON.stringify(stats, null, 2));
}


const exampleWF = JSON.parse(fs.readFileSync("./Examples/example2.json"));
process_workflows(exampleWF.workflows, exampleWF.worker_count);